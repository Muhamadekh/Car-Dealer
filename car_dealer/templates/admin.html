{% extends 'layout.html' %}
{% block content %}
    <div class="container" style="margin-top: 2rem; font-family: Helvetica, Arial, sans-serif; text-align: center">
        <h2>Manage your users and different types of cars here.</h2>
    </div>
    <!-- Users and Cars Tables -->
    <div class="row" id="AdminTables">
        <div class="col-md-12 mt-4 mb-4">
            <div class="container" style="text-align: center">
                <h3>Users List</h3>
            </div>
            <table class="table table-dark">
              <thead>
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Username</th>
                  <th scope="col">Email</th>
                  <th scope="col">Role</th>
                </tr>
              </thead>
              <tbody>
                {% for user in users %}
                    <tr>
                      <th scope="row">{{ user.id }}</th>
                      <td>{{ user.username }}</td>
                      <td>{{ user.email }}</td>
                      {% if user.is_admin %}
                          <td>Admin</td>
                      {% else %}
                          <td>User</td>
                      {% endif %}
                      <td><button type="button" class="btn btn-secondary">Edit</button></td>
                    </tr>
                {% endfor %}
              </tbody>
            </table>
        </div>
        <div class="col-md-12 mt-4 mb-4">
            <div class="container" style="text-align: center">
                <h3>Cars for Sale List</h3>
            </div>
            <table class="table table-dark">
              <thead>
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Brand</th>
                  <th scope="col">Model</th>
                  <th scope="col">Price</th>
                  <th scope="col">Location</th>
                  <th scope="col">Status</th>


                </tr>
              </thead>
              <tbody>
                {% for car in cars_for_sale %}
                    <tr>
                      <th scope="row">{{ car.id }}</th>
                      <td>{{ car.make }}</td>
                      <td>{{ car.model }}</td>
                      <td>{{ car.price }}</td>
                      <td>{{ car.location }}</td>
                      {% if car.is_approved %}
                            <td><a href="{{ url_for('car_sales_info', car_id=car.id)}}"><button type="button" class="btn btn-success">Approved</button></a></td>
                      {% else %}
                            <td><a href="{{ url_for('car_sales_info', car_id=car.id)}}"><button type="button" class="btn btn-warning">Pending</button></a></td>
                      {% endif %}
                      <td><a href="{{ url_for('edit_car_for_sale', car_id=car.id)}}">Edit</a></td>
                    </tr>
                {% endfor %}
              </tbody>

            </table>
        </div>
        <div class="col-md-12 mt-4 mb-4">
            <div class="container" style="text-align: center">
                <h3>Cars for Hire</h3>
            </div>
            <table class="table table-dark">
              <thead>
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Brand</th>
                  <th scope="col">Model</th>
                  <th scope="col">Daily Rate</th>
                  <th scope="col">Location</th>
                  <th scope="col">Status</th>

                </tr>
              </thead>
              <tbody>
                {% for car in cars_for_hire %}
                    <tr>
                      <th scope="row">{{ car.id }}</th>
                      <td>{{ car.brand }}</td>
                      <td>{{ car.model }}</td>
                      <td>{{ car.daily_rate }}</td>
                      <td>{{ car.location }}</td>
                      {% if car.is_approved %}
                            <td><a href="{{ url_for('car_hire_info', car_id=car.id)}}"><button type="button" class="btn btn-success">Approved</button></a></td>
                      {% else %}
                            <td><a href="{{ url_for('car_hire_info', car_id=car.id)}}"><button type="button" class="btn btn-warning">Pending</button></a></td>
                      {% endif %}
                      <td><a href="{{ url_for('edit_car_for_hire', car_id=car.id)}}">Edit</a></td>
                    </tr>
                {% endfor %}
              </tbody>

            </table>
        </div>
    </div>
{% endblock %}